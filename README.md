# TopOfMountain
ä»£ç ä¹‹å·…ï¼Œç§¯ç´¯å­¦ä¹ 

ç¬¬äºŒä¸ªå°ç¨‹åº
åŸºäºwater2çš„æ€»æµç¨‹
https://www.ifanr.com/minapp/915777
å®ç°å›¾ä¹¦æ‰«æå½•å…¥çš„åŠŸèƒ½
å½“å‰å®Œæˆå®¢æˆ·ç«¯ä¸æœåŠ¡çš„åŸºæœ¬æ¡†æ¶çš„ç†Ÿæ‚‰ä¸æ­å»ºã€‚
äº†è§£KOAæ¡†æ¶ï¼ŒåŒå¿ƒåœ†å‘¨æœŸçš„åŸåˆ™ã€‚
ä¸»è¦å†™äº†è¿™ä¸ªå‡½æ•°
const urllib = require('urllib')
async function request( options) {
  let data = null;
  const opts = Object.assign({ dataType: 'json' }, options);
  const url = options.url;
  const request = await urllib.request(url, opts);
  data = request.data;
  return data;
}
module.exports = async ctx => {
  // è·å–ä¸Šä¼ ä¹‹åçš„ç»“æœ
  // å…·ä½“å¯ä»¥æŸ¥çœ‹ï¼š
  const { isbnCode } = ctx.query
  var options = {
    url: 'https://api.douban.com/v2/book/isbn/:' + isbnCode,
    headers: { 'User-Agent': 'request' }
  };

  var response = await request(options); //Yay, HTTP requests with no callbacks! 
  ctx.state.data = response;

}

é€šè¿‡urllibæ¥å¤–æ¥APIï¼Œä¹‹å‰å°è¯•äº†https,httpï¼Œè¿˜æœ‰KOA-request é‡åˆ°äº†ä¸å°‘æŒ«æŠ˜
å¯¹awaitå’Œasyncçš„jsæ–°å†™æ³•è¦å¥½å¥½ç†Ÿæ‚‰ç†Ÿæ‚‰ï¼Œè²Œä¼¼é€šè¿‡è¿™ç§æ–¹å¼å¯ä»¥æ¶ˆé™¤éš¾çœ‹çš„å›è°ƒã€‚
ä»”ç»†æƒ³æƒ³è¿˜éƒ½æ˜¯åŒå¿ƒåœ†çš„æ€è·¯ã€‚
è±†ç“£çš„APIè¿˜æ˜¯å¾ˆä¸é”™çš„ï¼Œè®°ä½åªæ”¯æŒhttps.
å¯¹äºctxçš„ç”¨æ³•è¦å¥½å¥½æ•´ç†ä¸‹ï¼Œè·å–ä¸Šä¸‹æ–‡çš„å…³é”®å‚æ•°ã€‚ 
æœ¬æ¥æˆ‘å°±å¯¹nodeçš„requestå’Œresponseå°±ä¸æ˜¯å¾ˆç†Ÿï¼Œåœ¨è¿™å—ä¹Ÿè¸©å‘ä¸å°‘ã€‚
Request aliases

ä»¥ä¸‹è®¿é—®å™¨å’Œåˆ«åä¸ Request ç­‰ä»·ï¼š

    ctx.header
    ctx.method
    ctx.method=
    ctx.url
    ctx.url=
    ctx.originalUrl
    ctx.path
    ctx.path=
    ctx.query
    ctx.query=
    ctx.querystring
    ctx.querystring=
    ctx.host
    ctx.hostname
    ctx.fresh
    ctx.stale
    ctx.socket
    ctx.protocol
    ctx.secure
    ctx.ip
    ctx.ips
    ctx.subdomains
    ctx.is()
    ctx.accepts()
    ctx.acceptsEncodings()
    ctx.acceptsCharsets()
    ctx.acceptsLanguages()
    ctx.get()

Response aliases

ä»¥ä¸‹è®¿é—®å™¨å’Œåˆ«åä¸ Response ç­‰ä»·ï¼š

    ctx.body
    ctx.body=
    ctx.status
    ctx.status=
    ctx.length=
    ctx.length
    ctx.type=
    ctx.type
    ctx.headerSent
    ctx.redirect()
    ctx.attachment()
    ctx.set()
    ctx.remove()
    ctx.lastModified=
    ctx.etag=

Anywayï¼ŒI have done itã€‚
æœåŠ¡ç«¯çš„å†…å®¹è¿˜éœ€è¦è¡¥å¾ˆå¤šå‘ï¼Œä¹‹å‰ç¬¬ä¸€ä¸ªå°ç¨‹åºåªæ˜¯é‡‡ç”¨ç°æˆçš„æ¨¡ç‰ˆæ¥å®ç°çš„ã€‚
ä¸‹ä¸€æ­¥ï¼Œå¯¹äºæ‰«ç è·å–çš„å›¾ä¹¦ä¿¡æ¯è¿›è¡Œå¡«å……æ¸²æŸ“ã€‚
è®°å½•æˆ‘è¿™ä¸ªå®¢æˆ·çš„å›¾ä¹¦ä¿¡æ¯ã€‚è¿™é‡Œè¦æ¶‰åŠæ•°æ®åº“äº†ã€‚
ä¸¤å¼ è¡¨ï¼Œä¸€å¼ æ˜¯æˆ‘çš„å›¾ä¹¦åˆ—è¡¨ä¿¡æ¯ï¼Œç”¨openIDåšä¸»é”®å§ å…¶ä½™å­—æ®µæœ‰ISBN,å›¾ä¹¦å›¾ç‰‡urlã€‚
ç¬¬äºŒå¼ è¡¨æ˜¯å›¾ä¹¦è¡¨ï¼Œé€šè¿‡ISBNå·æœç´¢å‡ºå›¾ä¹¦çš„ä¿¡æ¯ï¼Œå°±ç”¨ISBNåšä¸»é”®å§ï¼Œå…¶ä½™ä¿¡æ¯å‚è€ƒjsonæ¥è®¾è®¡ã€‚
åˆæ˜¯ä¸€ä¸ªå‘ã€‚æ…¢æ…¢å¡«å§
æˆ–è€…çœ‹çœ‹å°ç¨‹åºæœ¬åœ°ç¼“å­˜æ¥å®ç°ã€‚è²Œä¼¼ä¹Ÿå¯ä»¥ã€‚å“ˆå“ˆã€‚
åç»­å¯ä»¥åšåˆ†äº«æˆ‘çš„å›¾ä¹¦æ¸…å•ã€‚
åˆ†äº«å›¾ä¹¦æ¸…å•åŠŸèƒ½ï¼š
1ã€è°ƒæ•´ä¹¦æ¶UIï¼Œæ·»åŠ å¤´åƒå’Œæ˜µç§°çš„å±•ç°ï¼Œæ·»åŠ åˆ†äº«æŒ‰é’®ã€ä»¥åŠé¦–é¡µæŒ‰é’®ã€‚
2ã€åŠ å…¥æ•°æ®åº“åŠŸèƒ½ï¼Œå­˜å‚¨è¯¥ç”¨æˆ·çš„æ˜µç§°ã€å¤´åƒã€å’Œä¹¦æ¶ä¿¡æ¯ã€‚
// åˆå§‹åŒ– SDK
// å°†åŸºç¡€é…ç½®å’Œ sdk.config åˆå¹¶ä¼ å…¥ SDK å¹¶å¯¼å‡ºåˆå§‹åŒ–å®Œæˆçš„ SDK
è¿™ä¸€æ­¥å¾ˆå…³é”®ï¼Œé“¾æ¥äº†æ•°æ®åº“çš„åŠ¨ä½œã€‚æ‰€ä»¥å¯ä»¥ç›´æ¥å¼•ç”¨äº†ã€‚
const { mysql } = qcloud
mysql('testBook').select('*').where({ nickName: Samel }) // => { id:1, name: 'leo', age: 20 }
å¯ä»¥è¿è¡Œè¯•è¯•ã€‚çœ‹èƒ½ä¸èƒ½è¿”å›è¿™ä¸ªæ•°æ®å›æ¥ã€‚
å¯ä»¥çš„è¯å°±åº”è¯¥è®¾è®¡è¡¨ç»“æ„äº†ã€‚
å­˜å‚¨ç™»å½•çš„ç”¨æˆ·ä¿¡æ¯è¿™å—ï¼Œè¿˜æ²¡æœ‰è°ƒè¯•ã€‚å¯ä»¥å…ˆç¼“ç¼“å—ï¼Ÿ
æŸ¥è¯¢åŠ¨ä½œ

3ã€è°ƒç”¨å¾®ä¿¡å°ç¨‹åºçš„åˆ†äº«åŠŸèƒ½ã€‚

ç›ˆåˆ©ç‚¹ï¼šæ”¯ä»˜çš„ç”¨æˆ·å¯ä»¥å®ç°å¯¼å‡ºåˆ°Excelã€‚
å·²ç»é€šè¿‡æœ¬åœ°ç¼“å­˜ ç®€å•è®°å½•äº†ä¸ªäººå½•å…¥çš„å›¾ä¹¦ä¿¡æ¯äº†ã€‚
æ— éœ€è·å–ä¸ªäººç™»å½•ä¿¡æ¯ï¼Œè¿˜æ˜¯æ¯”è¾ƒè‰¯å¿ƒçš„ã€‚
ä¸‹ä¸€æ­¥å°±éœ€è¦æææ•°æ®åº“ã€‚èµ·ç å¾—è·å–ç”¨æˆ·çš„openIDã€‚
å’Œè¡¨è®°å½•å…³è”ã€‚
å¯¹äºå½•å…¥çš„å›¾ä¹¦ã€‚ç‚¹å¼€å¯ä»¥å±•ç°æ›´ä¸°å¯Œçš„å†…å®¹ã€‚ç®€ä»‹ã€ä½œè€…ã€æ‘˜è¦ä¹‹ç±»ã€‚
å¹¶ä¸”å¯ä»¥å½•å…¥ç”¨æˆ·çš„ä¸€äº›å¤‡æ³¨ä¿¡æ¯ã€‚
å½“ç„¶ï¼Œä¹Ÿèƒ½è®©ç”¨æˆ·æœ‰è‡ªå·±çš„è¯»ä¹¦è®¡åˆ’ä¹Ÿæ˜¯ä¸é”™çš„ã€‚

è¿™éƒ¨åˆ†å®Œå–„åï¼Œå°±å¯ä»¥åšåˆ†äº«å›¾ä¹¦æ¸…å•ï¼Œä»¥åŠé™Œç”Ÿäººå€Ÿä¹¦ç¤¾äº¤çš„å¥—è·¯äº†ã€‚
ä¸€æ­¥ä¸€ä¸ªè„šå°ï¼Œæ…¢æ…¢æ¥å§ã€‚
å‰é¢çš„åˆ†äº«ä»¥åŠæ•°æ®åº“æ­å»ºå·²ç»å®Œæˆã€‚
æ¥ä¸‹æ¥åˆ†äº«åˆ—è¡¨é¡µåŠ å…¥æœ¬äººç™»å½•åçš„å¤´åƒå§ã€‚
è¿™å¿«åº”è¯¥èƒ½å¾ˆå¿«å®ç°
ç°åœ¨åŸºæœ¬æµç¨‹ æ’å…¥æ•°æ®åº“ ä»¥åŠè¯»å–è¯¦æƒ…é¡µè¿™å—è¿˜æœ‰äº›å°bug
1ã€å…ˆæŠŠåŸºæœ¬æµç¨‹å¼„é€šã€‚å…¨éƒ¨æ”¹ä¸ºåœ¨çº¿æ¨¡å¼ã€‚
2ã€ç„¶åæŠŠåˆ†äº«å¼„é€šã€‚æäº¤ä¸€æ¬¡githubã€‚
3ã€å°±å†æ¬¡æäº¤ä¸€æ¬¡é€å®¡å§ã€‚

éƒ½ä¸æ˜¯ä»€ä¹ˆå¤§é—®é¢˜ã€‚
åç»­åŠ å•¥åŠŸèƒ½å‘¢ï¼Ÿ
åŠ å…¥åˆ é™¤åŠŸèƒ½å§
æŠŠä¸ªäººç®€ä»‹åŠ è¿›å»å§ï¼Œä»¥åŠç”¨æˆ·ç•™è¨€åé¦ˆåŠŸèƒ½
åç»­åŠ å…¥é™„è¿‘çš„ä¹¦è¿™ä¸ªåŠŸèƒ½å§ã€‚

å†™åˆ°æ’å…¥ä¹¦ç±è¯¦æƒ…è¿™é‡Œï¼Œç„¶åä¹¦ç±è¯¦æƒ…å°±å†å°è£…ä¸€ä¸ªæ¥å£æ¥æŸ¥ï¼Œä¸å†ä»ç¼“å­˜å–äº†ã€‚
å»ºè®®åç»­åŠ å…¥ä¸€ä¸ªç§å¯†æ‰«æçš„ä¹¦æ¶ï¼Œä¸ä¼šä¸Šä¼ 
åº”è¯¥æ˜¯è¿™æ ·ï¼Œç”¨æˆ·æ‰«æçš„å’Œè‡ªå·±çœ‹çš„æ—¶å€™éƒ½æ˜¯æœ¬æ¬¡å­˜å‚¨ï¼Œ
å°±æ˜¯è½¬å‘å‡ºå»çš„æ—¶å€™æ‰å»æœåŠ¡å™¨å–ï¼Œä½†æ˜¯è¿™æ ·ä¸å¥½ï¼Œè¿˜è¦åŒºåˆ†æ˜¯æœ¬åœ°è¿˜æ˜¯åœ¨çº¿
ä¸å¦‚ç»Ÿä¸€æ”¹ä¸ºåœ¨çº¿æ¨¡å¼å¥½äº†ã€‚
è¿™ä¹Ÿæ˜¯ä¸€å¼€å§‹çš„è®¾è®¡æ²¡æƒ³å¥½çš„åŸå› ã€‚

å…ˆåšæŠŠå°ç¨‹åºæ·»åŠ åˆ°æ¡Œé¢
ç„¶åæ˜¯åŠ å…¥å®šæœŸæé†’æ¨é€çœ‹ä¹¦çš„é€šçŸ¥ã€‚
å®ç°æ€è·¯ï¼Œåœ¨å…·ä½“çš„ä¹¦ç±ä¸‹é¢å¯ä»¥è®¾ç½®æé†’ä¸‹æ¬¡çœ‹ä¹¦æ—¶é—´ã€‚
è®¾ç½®é™å®šä¸ºä¸ƒå¤©å†…ã€‚
æ¯è®¾ç½®ä¸€æ¬¡å¯ä»¥è·å¾—ä¸€é¢—æ˜Ÿæ˜Ÿï¼Œç§¯æ»¡10é¢—è¡Œ æˆ‘å°±æŠŠè¿™æœ¬ä¹¦å®šä¹‰ä¸ºæˆ‘å·²ç»ç†Ÿè¯»çš„ä¹¦ç±ã€‚
åˆ†äº«çš„æ—¶å€™å¯ä»¥æ ‡è¯†å‡ºæ¥ã€‚
å¸ƒå±€çš„ä¼˜åŒ–å»ºè®®ï¼šåˆ†äº«æ”¹ä¸ºä¸€ä¸ªæ‚¬æµ®åœ¨å³è¾¹ä¸­é—´åŒºåŸŸçš„é€æ˜æ¨¡ç³Šè‰²å—
åŠ å…¥å„ç±»æŒ‰é’®åŠŸèƒ½ã€‚
ä¾‹å¦‚åˆ†äº«ï¼Œä»¥åŠå¡«å†™æé†’è®¡åˆ’ï¼Œå¯ä»¥è®¾ç½®æœªæ¥ä¸ƒå¤©å†…çš„è¯»ä¹¦æé†’è®¡åˆ’
æé†’è®¡åˆ’è¿™ä¸ªå¯ä»¥è¿™ä¹ˆç©ï¼Œä¸€ç‚¹å‡»ç›´æ¥å°±æ˜¯å¼¹æ¡†ï¼Œæ˜¯å¦åœ¨ä»Šæ™š8:30æé†’æˆ‘é˜…è¯»æ­¤ä¹¦ï¼Ÿ
æ˜¯çš„è¯å°±ç›´æ¥å‘æ¨é€å’¯ã€‚
ç„¶åè¯•è¯•æ¨é€çš„ç©æ³•
åç»­åŠ å…¥é™„è¿‘å›¾ä¹¦é¦†çš„åŠŸèƒ½å§ã€‚
ä¸€ä¸ªå›¾ç‰‡æŒ‰é’®ï¼Œå±…ç„¶å¡äº†æˆ‘å¾ˆä¹…
é€šè¿‡ç›–äº†ä¸€å±‚éšè—çš„æŒ‰é’®ï¼Œæ¥è§£å†³è¿™ä¸ªé—®é¢˜ï¼Œåç»­çœ‹çœ‹æœ‰æ²¡æœ‰æ›´å¥½çš„åŠæ³•ã€‚

è²Œä¼¼å¾®ä¿¡tokenè¿™é‡Œï¼Œå·²ç»é¢„å…ˆå®šä¹‰å¥½äº†ä¸€ä¸ªå˜é‡ï¼Œä½†æ˜¯ğŸˆ¶ï¸æ²¡æœ‰å»ä½¿ç”¨ã€‚
åç»­çœ‹çœ‹èƒ½ä¸èƒ½æ‰¾å¾®ä¿¡æ”¯æŒçš„äººé—®ä¸‹äº†

https://www.jianshu.com/p/17138713d601
è¿™é‡Œèƒ½æŸ¥çœ‹ä¼šè¯æœåŠ¡å™¨é…ç½®çš„secretå’ŒappID

å…ˆç”¨é‡è›®å†™æ³•å§ï¼ŒæŠŠé€šçŸ¥ææ‚å…ˆã€‚
å…³äºnodejs urllibçš„ç”¨æ³•ï¼š
https://www.npmjs.com/package/urllib
è¿™ä¸ªé“¾æ¥ææ‚getå’Œpostçš„è°ƒç”¨åŒºåˆ«ã€‚

å½“å‰æƒ…å†µï¼Œé€šçŸ¥èƒ½è°ƒèµ·äº†ï¼Œä½†æ˜¯éœ€è¦æœåŠ¡å™¨æ‰§è¡Œä¸€ä¸ªå®šæ—¶æ‰¹é‡ã€‚
è°ƒé‚£ä¸ªå…ˆæš‚æ—¶æŠŠè¦å‘æ¶ˆæ¯çš„ä¼ å…¥åˆ—è¡¨ï¼Œä»¥åŠåŠ å…¥ä¸€ä¸ªçŠ¶æ€ä¸ºæœªå‘é€ã€‚
ç”¨æˆ·ç‚¹å‡»è¿™ä¸ªæŒ‰é’®çš„æ—¶å€™æ’å…¥ä¸€å¼ æ¶ˆæ¯é€šçŸ¥è¡¨ã€‚

æ¯å¤©æ™šä¸Š8:30å†å»å®šæ—¶æŸ¥è¯¢è¿™å¼ è¡¨ï¼Œç„¶åè°ƒå¾®ä¿¡çš„é€šçŸ¥æ¥å£ã€‚
ç„¶åæ›´æ–°è¿™ä¸ªè¡¨çš„çŠ¶æ€ã€‚

å…ˆè¯•è¯•å®šæ—¶æ‰“å°æ—¥å¿—çš„ä»£ç å§ã€‚æˆ‘ä»¬é€šè¿‡çœ‹æœåŠ¡å™¨åå°æ—¥å¿—
https://segmentfault.com/a/1190000006206193
è¿™ç‰‡ä¸œè¥¿ä»‹ç»äº†laterè¿™ä¸ªåº“

è¡¨è®¾è®¡æ¼äº†ä¹¦åï¼Œè¿˜æœ‰ä¹¦çš„è¿›åº¦çŠ¶æ€ã€‚è¿›åº¦çŠ¶æ€é€šè¿‡ç¼“å­˜æ¥å®ç°ï¼Œè®°å½•æ˜Ÿæ˜Ÿä½¿ç”¨ã€‚
å…ˆæŠŠåŸºæœ¬æµç¨‹æé€šï¼Œå†è¡¥å……ä¹¦åçš„è®¾è®¡ã€‚
è¡¥äº†ä¹¦åäº†
è¿˜æœ‰updateçš„æµç¨‹å¿˜è®°å†™äº†

è®°å¾—æäº¤git,æ™šä¸Šè§£å†³ä¸‰ä¸ªé—®é¢˜ã€‚å·¥ä½œçš„æ—¶å€™å†™é¡¹ç›®
å“ˆå“ˆï¼Œå°±å·®æœ€åä¸€æ­¥updateè¡¨çš„çŠ¶æ€äº†

https://juejin.im/post/59cb487ef265da065075409f 
constÂ {Â mysqlÂ }Â =Â require('../qcloud')
constÂ uuidÂ =Â require('node-uuid')
module.exportsÂ =Â asyncÂ ctxÂ =>Â 
{Â Â 
varÂ idÂ =Â uuid.v1()Â Â //Â å¢Â 
Â varÂ bookÂ =Â {Â Â Â Â 
id:Â id,Â Â Â Â 
name:Â "å†°ä¸ç«ä¹‹æ­Œ",Â Â 
Â Â price:Â 88Â Â 
}Â Â 
   awaitÂ mysql("Book").insert(book)Â Â 
 //Â æŸ¥Â Â varÂ resÂ =Â awaitÂ mysql("Book").where({Â idÂ }).first()Â 
Â //Â æ”¹Â Â awaitÂ mysql("Book").update({Â price:Â 66Â }).where({Â idÂ })Â 
Â //Â åˆ Â Â awaitÂ mysql("Book").del().where({Â idÂ })Â 
Â ctx.state.dataÂ =Â "OK"}

æ•°æ®åº“æ“ä½œéƒ½æ˜¯å¼‚æ­¥çš„ï¼Œå‰é¢éœ€è¦åŠ å…¥awaitæ‰èƒ½è°ƒèµ·ä½¿ç”¨ã€‚
updateçš„é—®é¢˜ä¹Ÿå·²ç»è§£å†³ã€‚

thisæ€»æ˜¯æŒ‡å‘è¯æ³•ä½œç”¨åŸŸï¼Œä¹Ÿå°±æ˜¯å¤–å±‚è°ƒç”¨è€…obj
æ‰€ä»¥åœ¨  formSubmit: function (e) {
    var self = this;æŠŠthisæå‰ä¹‹åå°±èƒ½æ­£ç¡®å¼•ç”¨ self.data.movie
ç®­å¤´å‡½æ•°çš„ç”¨æ³•ï¼šhttps://www.cnblogs.com/hailun/p/6279029.html


function (x) {
    return x * x;
}

module.exports = async ctx => {

}
ç­‰ä»·äº
async function noticeUser()
{

}
module.exports = noticeUser;

æ¥ä¸‹æ¥è¿˜éœ€è¦ææ‡‚jsçš„å‡ ç§å¼‚æ­¥æ¨¡å¼
Javascript è¯­è¨€çš„æ‰§è¡Œç¯å¢ƒæ˜¯â€œ å•çº¿ç¨‹â€ çš„
http://blog.csdn.net/qq_30100043/article/details/53508080
http://www.ruanyifeng.com/blog/2015/05/async.html
http://www.ruanyifeng.com/blog/2015/04/generator.html
Promise å°±æ˜¯ä¸ºäº†è§£å†³è¿™ä¸ªé—®é¢˜è€Œæå‡ºçš„ã€‚ å®ƒä¸æ˜¯æ–°çš„è¯­æ³•åŠŸèƒ½ï¼Œ è€Œæ˜¯ä¸€ç§æ–°çš„å†™æ³•ï¼Œ å…è®¸å°†å›è°ƒå‡½æ•°çš„åµŒå¥—ï¼Œ æ”¹æˆé“¾å¼è°ƒç”¨ã€‚ é‡‡ç”¨ Promiseï¼Œ è¿ç»­è¯»å–å¤šä¸ªæ–‡ä»¶ï¼Œ å†™æ³•å¦‚ä¸‹ã€‚
å½“åˆé“¾å¼è°ƒç”¨ï¼ŒåŸæ¥å°±æ˜¯è¿™ä¸ªç‰¹æ€§ã€‚


å¼‚æ­¥çš„å‡ ç§æ–¹å¼ï¼š
1ã€å›è°ƒå‡½æ•°

JavaScript è¯­è¨€å¯¹å¼‚æ­¥ç¼–ç¨‹çš„å®ç°ï¼Œ å°±æ˜¯å›è°ƒå‡½æ•°ã€‚ æ‰€è°“å›è°ƒå‡½æ•°ï¼Œ å°±æ˜¯æŠŠä»»åŠ¡çš„ç¬¬äºŒæ®µå•ç‹¬å†™åœ¨ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œ ç­‰åˆ°é‡æ–°æ‰§è¡Œè¿™ä¸ªä»»åŠ¡çš„æ—¶å€™ï¼Œ å°±ç›´æ¥è°ƒç”¨è¿™ä¸ªå‡½æ•°ã€‚ å®ƒçš„è‹±è¯­åå­— callbackï¼Œ ç›´è¯‘è¿‡æ¥å°±æ˜¯ " é‡æ–°è°ƒç”¨ "ã€‚
è¯»å–æ–‡ä»¶è¿›è¡Œå¤„ç†ï¼Œ æ˜¯è¿™æ ·å†™çš„ã€‚
    fs.readFile('/etc/passwd', function(err, data) {  
        if(err) throw err;  
        console.log(data);  
    });  
2ã€Promise è§£å†³ä¼ ç»Ÿå›è°ƒ ä»æ¨ªå‘å‘å±•åˆ°çºµå‘å‘å±•çš„é—®é¢˜ï¼š
ä¼ ç»Ÿçš„å›è°ƒå‡½æ•°å†™æ³•ä½¿å¾—ä»£ç æ··æˆä¸€å›¢ï¼Œå˜å¾—æ¨ªå‘å‘å±•è€Œä¸æ˜¯å‘ä¸‹å‘å±•
ä»£ç äº‹ä¾‹===
function ajax(URL) {
	return new Promise(function (resolve, reject) {
		var req = new XMLHttpRequest(); 
		req.open('GET', URL, true);
		req.onload = function () {
		if (req.status === 200) { 
				resolve(req.responseText);
			} else {
				reject(new Error(req.statusText));
			} 
		};
		req.onerror = function () {
			reject(new Error(req.statusText));
		};
		req.send(); 
	});
}
var URL = "/try/ajax/testpromise.php"; 
ajax(URL).then(function onFulfilled(value){
	document.write('æˆåŠŸå†…å®¹æ˜¯ï¼š' + value); 
}).catch(function onRejected(error){
	document.write('é”™è¯¯ï¼š' + error); 
});
3ã€Generator
4ã€asyncå‡½æ•°



æå®šé‚£ä¸‰é¢˜
1ã€å¹³è¡¡äºŒå‰æ ‘ã€‚
2ã€æ•°æ®å½’å¹¶ã€‚
3ã€é“¾å¼è°ƒç”¨ã€‚


ä»¥åŠjs çš„æ¨¡å—åŒ–ç¼–ç¨‹
ä¸‹ä¸€æ­¥ï¼šç»Ÿè®¡ä¸‹æ¨é€æ¸…å•è¡¨ï¼Œçœ‹çœ‹æ¨é€åˆ—è¡¨é‡Œæ‹¿ä¸åˆ°ç”¨æˆ·openIdçš„å¤šä¸å¤šï¼Œå¤šçš„è¯å†æƒ³æƒ³åº”è¯¥æŠŠopenIDç¼“å­˜èµ·æ¥çš„åšæ³•ã€‚
åšæˆé€šç”¨æ–¹æ³•ï¼Œå¯åŠ¨çš„æ—¶å€™å»ç™»å½•æ‹¿ï¼Œæ‹¿ä¸åˆ°çš„è¯å†å»ç¼“å­˜æ‹¿ï¼Œæœ€ç»ˆè¿˜æ˜¯æ‹¿ä¸åˆ°æç¤ºç”¨æˆ·æ— æ³•è·å–openIdï¼Œè¯·é‡æ–°æ‰“å¼€ã€‚
ç™»å½•æ¯æ¬¡æ‹¿åˆ°ä¹‹åéƒ½æ›´æ–°æœ¬åœ°ç¼“å­˜çš„openID
æ”¹ä¸ºæ”¾åœ¨ç¼“å†²å§ï¼Œå¦åˆ™ç»å¸¸æ‹¿ä¸åˆ°ã€‚
ç»å¸¸æ‹¿ä¸åˆ°æ˜¯ä¿®æ”¹äº†mainçš„é‚£ä¸ªæ–¹æ³•ï¼Œç¬¬ä¸€ç§æ–¹å¼ï¼Œæ²¡æœ‰ç»è¿‡requestçš„ï¼Œæ˜¯æ‹¿ä¸åˆ°çš„ã€‚

ç°åœ¨ç»å¸¸æ”¶ä¸åˆ°é€šçŸ¥ï¼Œä½†æ˜¯å•ä¸ªå´æœ‰å¯ä»¥ã€‚æ€€ç–‘æ˜¯å¾ªç¯æ²¡æœ‰åšå¥½ï¼Œæ¯æ¬¡åªè°ƒç”¨äº†ä¸€æ¬¡ã€‚
æµ‹è¯•ä¸‹ï¼Œä¸€ä¼šå¼„ä¸¤å°æ‰‹æœºåŒæ—¶è¯•è¯•ã€‚

ç†è§£ä¸‹jsçš„æ•°æ®ç»“æ„ï¼Œä»¥åŠä¸€äº›å¼‚æ­¥çš„ç‰¹æ€§ã€‚
Firefox  alt+command+s æ‰“å¼€è°ƒè¯•å™¨ï¼Œå¯ä»¥ç›´æ¥è¿è¡Œjsçš„ä»£ç 
Firefox  fn+shirt+f4 ç›´æ¥æ‰“å¼€ä»£ç è‰ç¨¿çº¸ï¼Œä¹Ÿå¯ä»¥è¿è¡Œjsçš„ä»£ç 

è…¾è®¯äº‘å±…ç„¶æŠŠæˆ‘çš„ç”¨æˆ·æ•°æ®å’Œè¡¨ç»“æ„éƒ½åˆ é™¤äº†ï¼ŒçœŸæ˜¯MMBçš„
çœ‹æ¥ä»¥åå»ºè¡¨è¦è‡ªå·±å†™å¥½è„šæœ¬ä¿å­˜èµ·æ¥æ‰è¡Œã€‚ç„¶åå®šæœŸä¿å­˜ä¸‹æ•°æ®
ç„¶åå°½å¿«åˆ‡æ¢ç”Ÿäº§æœåŠ¡å™¨æ­å»ºå¥½æ¥å§ã€‚
å¦‚ä¸‹è¡¨ï¼š
bookInfo
-openid
-isbnNum
-nickName
-headImageUrl
-bookLogoUrl
-bookName
-authorName
-content

noticeList
-openid
-bookName
- 

bookOwnerRalation
ä¹¦å’Œäººæœ¬æ¥æ˜¯å¤šå¯¹å¤šçš„å…³ç³»ï¼Œæ ¹æ®èŒƒå¼è®¾è®¡åº”è¯¥æ‹†åˆ†ä¸ºä¸‰å¼ è¡¨ã€‚
ä¸€ä¸ªå’Œäººæœ‰å…³ã€ä¸€ä¸ªå’Œä¹¦ç±æœ‰å…³ã€ä¸€ä¸ªè®°å½•å…³ç³»ã€‚
ä½†æ˜¯è¿™é‡Œæ˜¯å°ç¨‹åºï¼Œå¯ä»¥è¿½æ±‚åèŒƒå¼è®¾è®¡ï¼Œå˜ä¸ºä¸€ä¸ªäººå¯¹åº”å¤šæœ¬ä¹¦ç±ã€‚è¿™æ ·çš„è¯ä¹¦ç±çš„å­—æ®µå°±ä¼šæœ‰å†—ä½™çš„è®°å½•ã€‚
è¿™æ ·æˆ‘çš„SQLå¤„ç†ä¼šå¿«ä¸€ç‚¹ï¼Œç”¨ç©ºé—´æ¢æ—¶é—´ã€‚ï¼ˆè¿˜æœ‰å†™ä»£ç å·æ‡’çš„æ—¶é—´ã€‚ï¼‰
ä¸‹æ¬¡æŠŠæ­£å¼ç¯å¢ƒæŠ•ä¸Šå»å°±å®Œç¾äº†

æ¥ä¸‹æ¥çš„æ­¥éª¤ï¼Œå¤‡æ¡ˆåŸŸåï¼Œæ­å»ºå¥½æˆ‘ç”Ÿäº§çš„æœåŠ¡å™¨ï¼Œæä¾›ç¨³å®šçš„æœåŠ¡ã€‚
åç»­åŠ å…¥ æ²¡äº†
ç»§ç»­å’¯

æ•°ç»„å°¾éƒ¨æ·»åŠ  push
å°¾éƒ¨åˆ é™¤ pop
å¤´éƒ¨æ·»åŠ  unshift
å¤´éƒ¨åˆ é™¤ shift
é—­åŒ…çš„æ¡ˆä¾‹
å‘çš„å†™æ³•ï¼š
function createFunctions(){
  var result = new Array();
  for (var i=0; i < 10; i++){
    result[i] = function(){
      return i;
    };
  }
  return result;
}
var funcs = createFunctions();
for (var i=0; i < funcs.length; i++){
  console.log(funcs[i]());
}
é—­åŒ…æŠ€æœ¯çš„åŒ¿åå‡½æ•°ï¼Œèƒ½è®©å‡½æ•°ç«‹å³æ‰§è¡Œï¼Œä»è€Œè¿”å›æ­£ç¡®çš„ç»“æœã€‚
æ­£ç¡®å†™æ³•ï¼š
function createFunctions(){
  var result = new Array();
  for (var i=0; i < 10; i++){
    result[i] = (function(i){
      return function(){
         return i;
      };
    })(i);
  }
  return result;
}
var funcs = createFunctions();
for (var i=0; i < funcs.length; i++){
  console.log(funcs[i]());
}

æŸ¯é‡ŒåŒ–ï¼Œæœ‰ç‚¹æ„æ€ï¼š
function curryIt(fn) {
        var length = fn.length,
        args = [];
    var result =  function (arg){
        args.push(arg);
        length --;
        console.log(length);
        if(length <= 0 ){
            return fn.apply(this, args);
        } else {
            return result;
        }
    }
     
    return result;
}


//å»¶è¿Ÿè¿™ä¸ªå‡½æ•°ï¼Œåªæ˜¯è®°å½•å˜é‡è€Œå·²ï¼Œé€šè¿‡åˆ¤æ–­å˜é‡æ˜¯å¦å­˜åœ¨ï¼Œå†³å®šæ˜¯å¦å»¶è¿Ÿæ‰§è¡Œã€‚
//æ¯ä¸€ä¸ªå‡½æ•°ï¼Œå…¶å®éƒ½ä¸æ‰§è¡Œï¼Œéƒ½åªæ˜¯è®°å½•å˜é‡çš„å€¼è€Œå·²ã€‚
//ä¸ºå•¥è¦å¦å¤–å®šä¹‰ä¸€ä¸ªobj,å› ä¸ºéœ€è¦è¿™ä¸ªå…¬å…±ç±»ç›´æ¥å°±èƒ½ç”Ÿæˆä¸€ä¸ªå®ä¾‹åŒ–å¯¹è±¡ã€‚ åæ¥å‘ç°å…¶å®ä¹Ÿä¸éœ€è¦ï¼Œä¾‹å¦‚ä½ çœ‹æˆ‘å°±ç›´æ¥è¿”å›this
//è¿™é“é¢˜çš„å…³é”®æ˜¯ setTimeout(this.settime); é€šè¿‡è¿™å¥ï¼Œå½¢æˆä¸€ä¸ªå¼‚æ­¥å¤„ç†ï¼Œå…ˆæŠŠè°ƒç”¨æ–¹æ³•çš„å˜é‡ç»™èµ‹å€¼å®Œ
//ç„¶åè¿™ä¸ªå¼‚æ­¥æ ¹æ®å˜é‡çš„å€¼æ¥å†³å®šèµ°ä»€ä¹ˆåˆ†æ”¯ï¼Œæ‰€ä»¥ä»¥åå¯¹äºé‚£ç§é¡ºåºåŠ¨æ€å˜åŒ–çš„ï¼Œéœ€æ‰¾åˆ°æ‰§è¡Œåˆ‡å…¥ç‚¹ã€‚
function Hard(str){
    this.str = "I am " + str;
    var that = this;
    this.restFirst = function ( n ) {
    this._restFirst = n;
    this._rest = 0;
    return this;
}
this.rest = function( num ){
    this._rest = num;
    return this;
}
this.yanchi = function(m){
    console.log("sleep")
    var d = new Date();
    var n = this._restFirst*1000;
    while(true){
        if( new Date() - d > n ){
            console.log("sleep end")
            return false;
        }
    }
}
this.learn = function( sr ) {
    this._learn = sr;
    return this;
}
    this.settime = function(){
    var { str, _learn, _rest, _restFirst} = that;
    var num = _rest || _restFirst;

    

    if( _restFirst !== undefined ){
        that.yanchi();
    }else{
        console.log(str);
    }

    if(num){
        setTimeout(function(){
            console.log( `Start learning after ${ num } seconds` );
            if( _restFirst !== undefined ){
                console.log(str);
            }
            if( _learn ){
                console.log( "Learning " + _learn )
            }
        },_rest*1000)
    }
     }
    setTimeout(this.settime);
    return this;
}
// Hard('jack1').rest(3).learn('chinese2');
Hard('jack1').restFirst(5).learn('chinese');

è§£å†³è°ƒå°bugï¼Œæ˜¾ç¤ºæŒ‰é’®ç™½è‰²

å¼€å‘ä¸€ä¸ªä»¥ä¹¦ä¼šå‹çš„åŠŸèƒ½ã€‚
å¼€å‘ä¸€ä¸ªå…³äºä½œè€…çš„åŠŸèƒ½ï¼Œç•™ä¸‹è”ç³»æ–¹å¼ã€‚
å¼€å‘ä¸€ä¸ªæ˜Ÿè¾°å¤§æµ·çš„åŠ¨ç”»

Velocity å’Œ jQuery.animate çš„å·¥ä½œæ–¹å¼ç±»ä¼¼ï¼Œä¹Ÿæ˜¯ç”¨æ¥å®ç° JavaScript åŠ¨ç”»çš„ä¸€ä¸ªå¾ˆæ£’çš„é€‰æ‹©
å¼•å…¥Tweenmax.jsæ–‡ä»¶,ä¹Ÿæ˜¯å®ç°åŠ¨ç”»çš„å¥½ä¸œä¸œ
<script src = â€œhttps://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.1/TweenMax.min.jsâ€ > </ script> 
å­¦ä¼šäº†ç”¨ç«ç‹è°ƒè¯•å‰ç«¯ç•Œé¢äº†ï¼Œå¯ä»¥çœ‹åˆ°console.logçš„ä¿¡æ¯ï¼Œä¹Ÿèƒ½é€šè¿‡å‘½ä»¤è¡Œä¿®æ”¹é‡Œé¢çš„å…ƒç´ 
åœ¨çº¿å­¦ä¹ å‰ç«¯çš„å¥½ç½‘ç«™ http://jsfiddle.net/boilerplate/vue

çº ç»“vueç©¶ç«Ÿæœ‰æ²¡æœ‰è§¦æ‘¸äº‹ä»¶ï¼Ÿ

ç¬¬ä¸€å¤©ï¼Œæ­å»ºå¥½git hubåº“  æ•´ç†å¥½IDE webStormï¼Œå¹¶ä¿å­˜åœ¨ç™¾åº¦ç½‘ç›˜å†…ã€‚
vue-cliæ­å»ºæ•™ç¨‹ï¼šhttps://segmentfault.com/a/1190000009291545
æŠŠä»¥å‰çš„å­¦ä¹ å¿ƒå¾—è®°å½•ä¸‹æ¥ã€‚
